// ðŸ”´ REEMPLAZA ESTA URL CON LA DE TU BACKEND EN RENDER
const backendURL = 'https://frontend-p9am.onrender.com'; // <--- CAMBIA ESTO

document.getElementById('predecirBtn').addEventListener('click', async () => {
    const local = document.getElementById('local').value.trim();
    const visitante = document.getElementById('visitante').value.trim();

    if (!local || !visitante) {
        alert('Por favor ingresa ambos equipos');
        return;
    }

    // Mostrar carga
    const btn = document.getElementById('predecirBtn');
    btn.textContent = 'Analizando...';
    btn.disabled = true;

    try {
        const response = await fetch(backendURL + '/predecir', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ local, visitante })
        });

        if (!response.ok) {
            throw new Error('Error en la respuesta del servidor');
        }

        const data = await response.json();

        // Actualizar la interfaz
        document.getElementById('ganador').textContent = data.ganador;
        document.getElementById('altabaja').textContent = `${data.alta_baja.etiqueta} (${data.alta_baja.valor})`;
        document.getElementById('momento-local').textContent = data.momento_equipos[local] || 'N/A';
        document.getElementById('momento-visitante').textContent = data.momento_equipos[visitante] || 'N/A';
        document.getElementById('favoritismo').textContent = `Local ${data.favoritismo.local}% / Visitante ${data.favoritismo.visitante}% / Empate ${data.favoritismo.empate}%`;
        document.getElementById('runline').textContent = data.runline;

        // Mostrar la secciÃ³n de resultados
        document.getElementById('resultados').style.display = 'block';
    } catch (error) {
        alert('Error al conectar con el servidor: ' + error.message);
        console.error(error);
    } finally {
        btn.textContent = 'ðŸ”¥ PRONOSTICAR';
        btn.disabled = false;
    }
});
