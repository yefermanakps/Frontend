<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DEPORTES AKPS</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1 class="titulo">‚öΩ DEPORTES <span>AKPS</span></h1>
        <p class="subtitulo">Pronosticador inteligente en tiempo real</p>

        <div class="input-group">
            <input type="text" id="local" placeholder="Equipo local (ej. Real Madrid)">
            <input type="text" id="visitante" placeholder="Equipo visitante (ej. Barcelona)">
            <button id="predecirBtn">üî• PRONOSTICAR</button>
        </div>

        <div id="resultados" class="resultados" style="display: none;">
            <h2>Resultados del an√°lisis</h2>
            <div class="grid">
                <div class="card" id="ganador-card">
                    <h3>üèÜ Ganador</h3>
                    <p id="ganador">-</p>
                </div>
                <div class="card" id="altabaja-card">
                    <h3>üìà Alta/Baja</h3>
                    <p id="altabaja">-</p>
                </div>
                <div class="card" id="momento-local-card">
                    <h3>‚ö° Momento Local</h3>
                    <p id="momento-local">-</p>
                </div>
                <div class="card" id="momento-visitante-card">
                    <h3>‚ö° Momento Visitante</h3>
                    <p id="momento-visitante">-</p>
                </div>
                <div class="card" id="favoritismo-card">
                    <h3>üìä Favoritismo</h3>
                    <p id="favoritismo">-</p>
                </div>
                <div class="card" id="runline-card">
                    <h3>üé≤ Runline</h3>
                    <p id="runline">-</p>
                </div>
            </div>
        </div>
    </div>

    <script>
// üî¥ REEMPLAZA ESTA URL CON LA DE TU BACKEND EN RENDER
const backendURL = 'https://backend-7wjk.onrender.com';

document.getElementById('predecirBtn').addEventListener('click', async () => {
    const local = document.getElementById('local').value.trim();
    const visitante = document.getElementById('visitante').value.trim();

    if (!local || !visitante) {
        alert('Por favor ingresa ambos equipos');
        return;
    }

    const btn = document.getElementById('predecirBtn');
    btn.textContent = 'Analizando...';
    btn.disabled = true;

    try {
        const response = await fetch(backendURL + '/predecir', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ local, visitante })
        });

        if (!response.ok) throw new Error('Error en el servidor');

        const data = await response.json();

        document.getElementById('ganador').textContent = data.ganador;
        document.getElementById('altabaja').textContent = `${data.alta_baja.etiqueta} (${data.alta_baja.valor})`;
        document.getElementById('momento-local').textContent = data.momento_equipos[local] || 'N/A';
        document.getElementById('momento-visitante').textContent = data.momento_equipos[visitante] || 'N/A';
        document.getElementById('favoritismo').textContent = `Local ${data.favoritismo.local}% / Visitante ${data.favoritismo.visitante}% / Empate ${data.favoritismo.empate}%`;
        document.getElementById('runline').textContent = data.runline;
        document.getElementById('resultados').style.display = 'block';
    } catch (error) {
        alert('Error: ' + error.message);
    } finally {
        btn.textContent = 'üî• PRONOSTICAR';
        btn.disabled = false;
    }
});
    </script>
</body>
</html>
